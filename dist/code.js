(()=>{"use strict";figma.showUI(__html__,{width:320,height:600,themeColors:!0}),figma.ui.onmessage=e=>{if("count-screens"===e.type){const t=function(e){const t=figma.currentPage.selection.filter(e=>"FRAME"===e.type||"COMPONENT"===e.type||"INSTANCE"===e.type).map(e=>({name:e.name,id:e.id,type:e.type}));let s=[],i=0,o=[];if(e&&e.trim()){const r=e.split(",").map(e=>e.trim()).filter(e=>e.length>0),a=new Map,n=[];r.forEach(e=>{a.set(e,[])}),t.forEach(e=>{let t=!1;for(const s of r)if(e.name.toLowerCase().startsWith(s.toLowerCase())){a.get(s).push(e),t=!0;break}t||n.push(e)}),r.forEach(e=>{const t=a.get(e);t.length>0&&o.push({prefix:e,frames:t})}),i=o.length+n.length,s=[...o.flatMap(e=>e.frames),...n]}else s=t;return{total:t.length,filtered:s.length,prefix:e||"",matches:s,groupedCount:e?i:void 0,prefixGroups:e?o:void 0}}(e.prefix);figma.ui.postMessage({type:"count-result",result:t})}else"select-frame"===e.type?figma.getNodeByIdAsync(e.frameId).then(e=>{e&&(figma.currentPage.selection=[e],figma.viewport.scrollAndZoomIntoView([e]))}):"close-plugin"===e.type&&figma.closePlugin()}})();